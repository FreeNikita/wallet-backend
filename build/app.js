"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _express = _interopRequireDefault(require("express"));
var _mongoose = _interopRequireDefault(require("mongoose"));
var _dotenv = _interopRequireDefault(require("dotenv"));


var _apolloServerExpress = require("apollo-server-express");
var _graphQL = require("./graphQL");function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} // graphQL

_dotenv.default.config();
const PORT = process.env.PORT || 3000;

const app = (0, _express.default)();
const server = new _apolloServerExpress.ApolloServer({ typeDefs: _graphQL.typeDefs, resolvers: _graphQL.resolvers });
server.applyMiddleware({ app });

app.get('/', (req, res) => {
  res.send('ok');
});

const listen = async () => {
  try {
    await _mongoose.default.connect(process.env.BD_HOST, {
      useNewUrlParser: true,
      useFindAndModify: false,
      useUnifiedTopology: true });


    app.listen(PORT, () => {
      console.log(`ðŸš€ Server ready at http://localhost:${PORT}${server.graphqlPath}`);
    });
  } catch (error) {
    console.log("Error Run Project: ", error);
  }
};

listen().catch(err => {
  console.error(err.message);
  process.exit(1);
});var _default =

app;exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiUE9SVCIsInByb2Nlc3MiLCJlbnYiLCJhcHAiLCJzZXJ2ZXIiLCJBcG9sbG9TZXJ2ZXIiLCJ0eXBlRGVmcyIsInJlc29sdmVycyIsImFwcGx5TWlkZGxld2FyZSIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJsaXN0ZW4iLCJtb25nb29zZSIsImNvbm5lY3QiLCJCRF9IT1NUIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlRmluZEFuZE1vZGlmeSIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbnNvbGUiLCJsb2ciLCJncmFwaHFsUGF0aCIsImVycm9yIiwiY2F0Y2giLCJlcnIiLCJtZXNzYWdlIiwiZXhpdCJdLCJtYXBwaW5ncyI6Im9HQUFBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxvQyw4RkFGQTs7QUFJQUEsZ0JBQU9DLE1BQVA7QUFDQSxNQUFNQyxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixJQUFaLElBQW9CLElBQWpDOztBQUVBLE1BQU1HLEdBQUcsR0FBRyx1QkFBWjtBQUNBLE1BQU1DLE1BQU0sR0FBRyxJQUFJQyxpQ0FBSixDQUFpQixFQUFFQyxRQUFRLEVBQVJBLGlCQUFGLEVBQVlDLFNBQVMsRUFBVEEsa0JBQVosRUFBakIsQ0FBZjtBQUNBSCxNQUFNLENBQUNJLGVBQVAsQ0FBdUIsRUFBRUwsR0FBRixFQUF2Qjs7QUFFQUEsR0FBRyxDQUFDTSxHQUFKLENBQVEsR0FBUixFQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3ZCQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBUyxJQUFUO0FBQ0gsQ0FGRDs7QUFJQSxNQUFNQyxNQUFNLEdBQUcsWUFBWTtBQUN2QixNQUFJO0FBQ0EsVUFBTUMsa0JBQVNDLE9BQVQsQ0FBaUJkLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYyxPQUE3QixFQUFzQztBQUN4Q0MsTUFBQUEsZUFBZSxFQUFFLElBRHVCO0FBRXhDQyxNQUFBQSxnQkFBZ0IsRUFBRSxLQUZzQjtBQUd4Q0MsTUFBQUEsa0JBQWtCLEVBQUUsSUFIb0IsRUFBdEMsQ0FBTjs7O0FBTUFoQixJQUFBQSxHQUFHLENBQUNVLE1BQUosQ0FBV2IsSUFBWCxFQUFpQixNQUFNO0FBQ25Cb0IsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsdUNBQXNDckIsSUFBSyxHQUFFSSxNQUFNLENBQUNrQixXQUFZLEVBQTdFO0FBQ0gsS0FGRDtBQUdILEdBVkQsQ0FVRSxPQUFNQyxLQUFOLEVBQWE7QUFDWEgsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVkscUJBQVosRUFBbUNFLEtBQW5DO0FBQ0g7QUFDSixDQWREOztBQWdCQVYsTUFBTSxHQUFHVyxLQUFULENBQWVDLEdBQUcsSUFBSTtBQUNsQkwsRUFBQUEsT0FBTyxDQUFDRyxLQUFSLENBQWNFLEdBQUcsQ0FBQ0MsT0FBbEI7QUFDQXpCLEVBQUFBLE9BQU8sQ0FBQzBCLElBQVIsQ0FBYSxDQUFiO0FBQ0gsQ0FIRCxFOztBQUtleEIsRyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuLy8gZ3JhcGhRTFxuaW1wb3J0IHsgQXBvbGxvU2VydmVyIH0gZnJvbSAnYXBvbGxvLXNlcnZlci1leHByZXNzJztcbmltcG9ydCB7IHR5cGVEZWZzLCByZXNvbHZlcnMgfSBmcm9tICcuL2dyYXBoUUwnO1xuXG5kb3RlbnYuY29uZmlnKClcbmNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDBcblxuY29uc3QgYXBwID0gZXhwcmVzcygpXG5jb25zdCBzZXJ2ZXIgPSBuZXcgQXBvbGxvU2VydmVyKHsgdHlwZURlZnMsIHJlc29sdmVycyB9KTtcbnNlcnZlci5hcHBseU1pZGRsZXdhcmUoeyBhcHAgfSk7XG5cbmFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZCgnb2snKVxufSlcblxuY29uc3QgbGlzdGVuID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuQkRfSE9TVCwge1xuICAgICAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgICAgICAgdXNlRmluZEFuZE1vZGlmeTogZmFsc2UsXG4gICAgICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICBhcHAubGlzdGVuKFBPUlQsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5qAIFNlcnZlciByZWFkeSBhdCBodHRwOi8vbG9jYWxob3N0OiR7UE9SVH0ke3NlcnZlci5ncmFwaHFsUGF0aH1gKVxuICAgICAgICB9KVxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBSdW4gUHJvamVjdDogXCIsIGVycm9yIClcbiAgICB9XG59XG5cbmxpc3RlbigpLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdfQ==